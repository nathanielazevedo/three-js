(this["webpackJsonpreact-js"]=this["webpackJsonpreact-js"]||[]).push([[0],{31:function(e,t,r){},32:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(23),i=r.n(s),o=(r(31),r(0)),a=(r(32),r(38)),j=r(7),b={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",cameraPos:new o.Vector3(9,2,4),target:new o.Vector3(4,0,0),shouldUpdate:!0};var l=function(){return Object(j.c)((function(e){var t=e.camera,r=e.scene;(b.activeMesh.name!==b.activeMeshName&&(b.activeMesh=r.getObjectByName(b.activeMeshName)||{}),b.shouldUpdate)&&(t.position.lerp(b.cameraPos,.1),r.orbitControls.target.lerp(b.target,.1),r.orbitControls.update(),t.position.clone().sub(b.cameraPos).length()<.1&&(b.shouldUpdate=!1))})),null},d=r(4),u=r(8),h=r(3),O={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"white",textAlign:"center",borderRadius:"100%",fontSize:20,fontWeight:"bold",opacity:.7,border:"1px solid black",cursor:"pointer"};var p=function(){var e={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},t=function(t){var r,n;(r=b.cameraPos).set.apply(r,Object(u.a)(e[t].cameraPos)),(n=b.target).set.apply(n,Object(u.a)(e[t].target)),b.activeMeshName=e[t].name,b.shouldUpdate=!0};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(e){return t(2)},style:Object(d.a)({left:"40vw"},O),children:"<"}),Object(h.jsx)("button",{onClick:function(e){return t(1)},style:Object(d.a)({right:"40vw"},O),children:">"})]})},f=function(e){var t=Object(j.d)(o.TextureLoader,"/three-js/autoshop.jpg"),r=Object(j.e)().gl,c=Object(n.useMemo)((function(){return new o.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(r,t)}),[]);return Object(h.jsx)("primitive",{attach:"background",object:c})},v=r(6),g=r(26);Object(j.b)({DragControls:g.a});var m=function(e){var t=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(j.e)(),s=c.camera,i=c.gl,o=c.scene,a=Object(n.useState)([]),b=Object(v.a)(a,2),l=b[0],d=b[1];return Object(n.useEffect)((function(){d(t.current.children)}),[]),Object(n.useEffect)((function(){r.current.addEventListener("hoveron",(function(e){o.orbitControls.enabled=!1})),r.current.addEventListener("hoveroff",(function(e){o.orbitControls.enabled=!0})),r.current.addEventListener("drag",(function(e){var t,r;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(r=e.object.api)||void 0===r||r.velocity.set(0,0,0)})),r.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),r.current.addEventListener("dragend",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(1)}))}),[l]),Object(h.jsxs)("group",{ref:t,children:[Object(h.jsx)("dragControls",{transformGroup:e.transformGroup,ref:r,args:[l,s,i.domElement]}),e.children]})};var x=function(e){var t=e.position,r=void 0===t?[0,0,0]:t,n=e.offset,c=void 0===n?[0,0,0]:n,s=e.dims,i=void 0===s?[1,1,1]:s,o=e.visible,j=void 0!==o&&o,b=e.children,l=Object(a.c)((function(){return{mass:1,args:i,position:r}})),d=Object(v.a)(l,2),u=d[0],O=d[1];return Object(h.jsxs)("group",{ref:u,api:O,children:[Object(h.jsxs)("mesh",{scale:i,visible:j,children:[Object(h.jsx)("boxBufferGeometry",{}),Object(h.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(h.jsx)("group",{position:c,children:b})]})},w=r(27);var y=function(e){var t=Object(j.d)(w.a,"/three-js"+e.path);return t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=o.FrontSide)})),Object(h.jsx)("primitive",{object:t.scene,scale:e.scale})};var C=function(){return Object(h.jsxs)(n.Suspense,{children:[Object(h.jsx)(m,{transformGroup:!0,children:Object(h.jsx)(x,{visible:!1,position:[4,2,0],dims:[3,2,6],offset:[0,-.4,.8],children:Object(h.jsx)(y,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(h.jsx)(m,{transformGroup:!0,children:Object(h.jsx)(x,{visible:!1,position:[-4,2,0],dims:[3,2,7],offset:[0,-.8,.2],children:Object(h.jsx)(y,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.013)})})})]})},M=function(e){return Object(h.jsxs)("mesh",Object(d.a)(Object(d.a)({},e),{},{children:[Object(h.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(h.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(h.jsx)("meshPhongMaterial",{emissive:"yellow"})]}))};var k=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ambientLight",{intensity:.2}),Object(h.jsx)("directionalLight",{position:[6,3,0],intensity:2,castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(h.jsx)(M,{position:[-6,3,0]}),Object(h.jsx)(M,{position:[0,3,0]}),Object(h.jsx)(M,{position:[6,3,0]})]})},S=function(e){var t=Object(a.c)((function(){return Object(d.a)({args:[200,1,200]},e)})),r=Object(v.a)(t,2),n=r[0];r[1];return Object(h.jsxs)("mesh",Object(d.a)(Object(d.a)({ref:n},e),{},{receiveShadow:!0,children:[Object(h.jsx)("boxBufferGeometry",{args:[20,1,10]}),Object(h.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},P=r(10);Object(j.b)({OrbitControls:P.a});var L=function(){var e=Object(j.e)(),t=e.camera,r=e.gl;return Object(h.jsx)("orbitControls",{attach:"orbitControls",args:[t,r.domElement]})};Object(j.b)({OrbitControls:P.a});var _=function(e){var t=function(e){b.activeMesh&&(b.activeMesh.material.color=new o.Color(e.target.style.background))};return Object(h.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,right:0,margin:"auto",width:"fit-content",display:"flex",top:"20px"},children:[Object(h.jsx)("div",{style:{background:"blue",height:50,width:50},onClick:t}),Object(h.jsx)("div",{style:{background:"yellow",height:50,width:50},onClick:t}),Object(h.jsx)("div",{style:{background:"white",height:50,width:50},onClick:t})]})};Object(j.b)({OrbitControls:P.a});var E=function(){return Object(h.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(h.jsx)(_,{}),Object(h.jsx)(p,{}),Object(h.jsxs)(j.a,{shadowMap:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(h.jsx)(l,{}),Object(h.jsx)(k,{}),Object(h.jsx)(L,{}),Object(h.jsx)(n.Suspense,{fallback:null,children:Object(h.jsx)(f,{})}),Object(h.jsxs)(a.a,{children:[Object(h.jsx)(C,{}),Object(h.jsx)(S,{position:[0,-.5,0]})]})]})]})},G=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,40)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),G()}},[[37,1,2]]]);
//# sourceMappingURL=main.38c04394.chunk.js.map